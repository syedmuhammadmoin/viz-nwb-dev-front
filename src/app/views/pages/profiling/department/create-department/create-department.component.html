<div [ktBusy]="isLoading" class="kt-portlet" >
    <div class="kt-portlet__head">
        <div class="kt-portlet__head-caption">
            <div class="kt-portlet__head-title">
                <span class="kt-portlet__head-icon kt-hide"><i class="la la-gear"></i></span>
                <h3 class="kt-portlet__head-text modal-header"> Create Department  <span (click)="onCloseDialog()" class="dialog-cross" ><i class="fa fa-times float-right"></i></span></h3>
            </div>
        </div>
    </div>
    <!-- form start -->
    <form [formGroup]="deptForm" (ngSubmit)="onSubmit()" class="kt-form kt-form--label-align-right">
        <!-- portlet body starts -->
        <div class="kt-portlet__body" >
            <!-- form first section starts -->
            <div class="kt-form__section kt-form__section--first">
                

                <div class="col-md-12 col-lg-12 col-sm-12">
                    <!-- first row starts -->
                    <div class="row" style="justify-content: space-between;">
                        <div class="col-lg-4 col-md-4">
                            <div class="form-group kt-form__group pt-2 pb-0">
                                <label class="col-form-label pt-0">Name:</label>
                                <kt-input-field
                                    formControlName="name"
                                    placeholder="Enter Name"
                                    (blurEvent)="logValidationErrors(deptForm, formErrors, validationMessages)"
                                    [errorMessage]="[{ condition : formErrors.name , error : formErrors.name }]">
                                </kt-input-field>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-4">
                            <div class="form-group kt-form__group pt-2 pb-0">
                                <label class="col-form-label pt-0">H.O.D:</label>
                                <kt-input-field
                                    formControlName="headOfDept"
                                    placeholder="Enter Head of Department"
                                    [hintText]="'Optional'">
                                </kt-input-field>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-4">
                            <div class="form-group kt-form__group pt-2 pb-0">
                                <label class="col-form-label pt-0">Organization:</label>
                                <kt-simple-dropdown
                                    propertyName="name"
                                    propertyValue="id"
                                    matFormFieldClass="full-width"
                                    searchPlaceholder="Search Organization"
                                    placeholder="Organization"
                                    (blurEvent)="logValidationErrors(deptForm, formErrors, validationMessages)"
                                    formControlName="organization"
                                    [optionList]="ngxsService.organizations$"
                                     clickEventButtonName="Add New Orgnization"
                                   (clickEvent)="openOrgnizationDialog()"
                                    [errorMessage]="formErrors.organization">
                                </kt-simple-dropdown>
                            </div>
                        </div>
                    </div>
                    <!-- first row ends -->
                    <!-- second row starts -->
                    <div class="row" style="justify-content: space-between;">
                        <div class="col-lg-4 col-md-4">
                            <div class="form-group kt-form__group pt-2 pb-0">
                                <label class="col-form-label pt-0">Country:</label>
                                <kt-simple-dropdown
                                    propertyName="name"
                                    propertyValue="id"
                                    searchPlaceholder="Search Country"
                                    placeholder="Select Country"
                                    (blurEvent)="logValidationErrors(deptForm, formErrors, validationMessages)"
                                    formControlName="country"
                                    [optionList]="countryList"
                                    matFormFieldClass="full-width"
                                    [errorMessage]="formErrors.country"
                                    (selectionChange)="onChangeCountry($event.value)">
                                </kt-simple-dropdown>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-4">
                            <div class="form-group kt-form__group pt-2 pb-0">
                                <label class="col-form-label pt-0">State:</label>
                                <kt-simple-dropdown
                                    propertyName="name"
                                    propertyValue="id"
                                    searchPlaceholder="Search State"
                                    placeholder="Select State"
                                    (blurEvent)="logValidationErrors(deptForm, formErrors, validationMessages)"
                                    formControlName="state"
                                    matFormFieldClass="full-width"
                                    [optionList]="stateList2"
                                    [errorMessage]="formErrors.state"
                                    (selectionChange)="onChangeState($event.value)">
                                </kt-simple-dropdown>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-4">
                            <div class="form-group kt-form__group pt-2 pb-0">
                                <label class="col-form-label pt-0">City:</label>
                                <kt-simple-dropdown
                                    propertyName="name"
                                    propertyValue="id"
                                    searchPlaceholder="Search City"
                                    placeholder="Select City"
                                    matFormFieldClass="full-width"
                                    (blurEvent)="logValidationErrors(deptForm, formErrors, validationMessages)"
                                    formControlName="city"
                                    [optionList]="cityList2"
                                    [errorMessage]="formErrors.city">
                                </kt-simple-dropdown>
                            </div>
                        </div>
                    </div>
                    <!-- second row ends -->
                    <!-- third row starts -->
                    <div class="row">
                        <div class="col-md-8 col-lg-8 col-sm-8">
                            <div class="form-group kt-form__group">
                                <label class="col-form-label">Address:</label>
                                <kt-input-field
                                    formControlName="address"
                                    placeholder="Enter Address"
                                    (blurEvent)="logValidationErrors(deptForm, formErrors, validationMessages)"
                                    [errorMessage]="[{ condition : formErrors.address , error : formErrors.address }]">
                                </kt-input-field>
                            </div>
                        </div>
                    </div>
                    <!-- third row ends -->
                </div>
            </div>
            <!-- form first section ends -->
        </div>
        <!-- portlet body ends -->
        <mat-divider></mat-divider>
        <!-- portlet footer start -->
        <div class="kt-portlet__foot" >
          <!-- form action starts -->
            <div class="kt-form__actions ">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="float-right">
                            <button class="mr-3 btn_white" mat-raised-button type="reset">Reset</button>
                            <button mat-raised-button class="sub___btn" type="submit"
                                    (click)="logValidationErrors(this.deptForm, this.formErrors, this.validationMessages)">Submit</button>&nbsp;
                        </div>
                    </div>
                </div>
            </div>
          <!-- form action ends-->
        </div>
        <!-- portlet footer ends -->
    </form>
    <!-- form ends -->
</div>
