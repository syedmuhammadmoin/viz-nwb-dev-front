<div [ktBusy]="isLoading">
<kt-portlet>
    <kt-portlet-header [sticky]="false" [title]="'Change Password'" [class]="'card-head-lg'">
    </kt-portlet-header>
    <!--begin::Form-->
    <!-- form start -->
    <form (ngSubmit)="onSubmit()" [formGroup]="changePassForm" class="kt-form kt-form--label-align-right" #formDirective="ngForm">
  
      <div class="kt-portlet__body">
        <div class="kt-form__section kt-form__section--first">
          <!-- first row start -->
          <div class="col-md-12 col-lg-12 col-sm-12">
            <div class="row mt-1 mb-0">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <label class="col-form-label">Current Password:</label>
                <div class="form-group kt-form__group mb-0">
                  <kt-input-field 
                  id="current_password"
                     type="password"
                     formControlName="currentPassword" 
                     matFormFieldClass="full-width" 
                     inputClass="input_transform_none"
                     placeholder="Current Password"
                     [errorMessage]="[{condition: formErrors.currentPassword , error: formErrors.currentPassword}]"
                     (blurEvent)="logValidationErrors(this.changePassForm, formErrors, validationMessages)">
                   </kt-input-field>
                </div>
              </div>
  
              <div class="col-lg-6 col-md-6 col-sm-6">
                <label class="col-form-label">New Password:</label>
                <div class="form-group kt-form__group mb-0">
                    <kt-input-field 
                    id="new_password"
                        type="password"    
                        formControlName="password" 
                        matFormFieldClass="full-width" 
                        placeholder="Password"
                        inputClass="input_transform_none"
                        (blurEvent)="logValidationErrors(this.changePassForm, formErrors, validationMessages)"
                        [errorMessage2]="[
                            {
                               condition: (changePassForm.controls['password'].hasError('required') || changePassForm.controls['password'].hasError('minlength')), 
                               error: 'Must be at least 8 characters!'
                            },
                            {
                              condition: (changePassForm.controls['password'].hasError('required') || changePassForm.controls['password'].hasError('hasNumber')), 
                              error: 'Must contain at least 1 number!'
                            },
                            {
                              condition: (changePassForm.controls['password'].hasError('required') || changePassForm.controls['password'].hasError('hasCapitalCase')), 
                              error: 'Must contain at least 1 Letter in Capital Case!'
                            },
                            {
                              condition: (changePassForm.controls['password'].hasError('required') || changePassForm.controls['password'].hasError('hasSmallCase')), 
                              error: 'Must contain at least 1 Letter in Small Case!'
                            },
                            {
                              condition: (changePassForm.controls['password'].hasError('required') || changePassForm.controls['password'].hasError('hasSpecialCharacters')), 
                              error: 'Must contain at least 1 Special Character!'
                            }]">
                       </kt-input-field>
                </div>
              </div>
  
              <div class="col-lg-6 col-md-6 col-sm-6">
                <label class="col-form-label">Confirm Password:</label>
                <div class="form-group kt-form__group mb-0">
                   <kt-input-field 
                   id="confirm_password"
                     type="password"
                     inputClass="input_transform_none"
                     formControlName="confirmPassword" 
                     matFormFieldClass="full-width" 
                     placeholder="Confirm Password"
                     [errorMessage]="[{condition: formErrors.confirmPassword , error: formErrors.confirmPassword}]"
                     (blurEvent)="logValidationErrors(this.changePassForm, formErrors, validationMessages)">
                   </kt-input-field>
                </div>
              </div>
            </div>
          </div>
          <!-- second row start -->
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="kt-portlet__foot p-5">
        <div class="kt-form__actions ">
          <div class="row">
            <div class="col-lg-12 col-md-8 col-sm-8 col-9">
              <div class="float-right">
                <button class="mr-2 app-reset-btn" id="confirm_password_reset" type="button" (click)="reset()" mat-raised-button>
                    <i class="fas fa-undo"></i>  Reset
                </button>
                <button (click)="logValidationErrors(this.changePassForm, this.formErrors, this.validationMessages)" class="app-default-btn" mat-raised-button 
                        type="submit" id="confirm_password_submit"><i class="far fa-save"></i> Submit
  
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <!-- form ends -->
  </kt-portlet>

</div>
  