<kt-portlet>
  <kt-portlet-header [sticky]="false" [title]="'Profit & Loss'" [class]="'card-head-lg'"></kt-portlet-header>
  <form [formGroup]="profitNLossForm" (ngSubmit)="onSubmit()" class="kt-form kt-form--label-align-right" #formDirective="ngForm">
    <div class="kt-portlet__body">
      <div class="kt-form__section kt-form__section--first">
        <div class="col-md-12 col-sm-12 col-lg-12">
          <!-- region First Row -->
          <div class="row">
            <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Start Date:</label>
                <kt-date-input formControlName="docDate" placeholder="Enter From Date" matFormFieldClass="full-width"
                  (blurEvent)="logValidationErrors(this.profitNLossForm, formErrors, validationMessages)"
                  [errorMessage]="formErrors.docDate" [maxDate]="maxDate">
                </kt-date-input>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">End Date:</label>
                <kt-date-input formControlName="docDate2" placeholder="Enter To Date" matFormFieldClass="full-width"
                  (blurEvent)="logValidationErrors(this.profitNLossForm, formErrors, validationMessages)"
                  [errorMessage]="formErrors.docDate2" [maxDate]="maxDate">
                </kt-date-input>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Account:</label>
                <kt-simple-dropdown id="profit_account" formControlName="accountName" matFormFieldClass="full-width" isDisabledNone="true"
                  placeholder="Select Account" [optionList]="ngxsService.accountsLevel4$" hintText="Optional"
                  searchPlaceholder="Search Accounts..." propertyName="name" propertyValue="name">
                </kt-simple-dropdown>
              </div>
            </div>
          </div>
          <div class="row">
            <!-- <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Department:</label>
                <kt-simple-dropdown formControlName="department" matFormFieldClass="full-width"
                  placeholder="Select Department" [optionList]="ngxsService.departments$"
                  searchPlaceholder="Search departments..." propertyName="name" propertyValue="name">
                </kt-simple-dropdown>
              </div>
            </div> -->
            <!-- <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Location:</label>
                 <kt-simple-dropdown formControlName="location" matFormFieldClass="full-width"
                  placeholder="Select Location" [optionList]="ngxsService.locations$"
                  searchPlaceholder="Search location..." propertyName="name" propertyValue="name">
                </kt-simple-dropdown> 
              </div>
            </div> -->
            <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Business Partner:</label>
                <kt-simple-dropdown id="profit_partner" formControlName="businessPartner" matFormFieldClass="full-width" hintText="Optional"
                  placeholder="Select Business Partner" [optionList]="ngxsService.businessPartners$" isDisabledNone="true"
                  searchPlaceholder="Search Business Partners..." propertyName="name" propertyValue="name">
                </kt-simple-dropdown>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Campus:</label>
                <kt-simple-dropdown id="profit_campus" formControlName="campus" matFormFieldClass="full-width" hintText="Optional"
                  placeholder="Select Campus" [optionList]="ngxsService.campuses$" isDisabledNone="true"
                  searchPlaceholder="Search Campuses..." propertyName="name" propertyValue="name">
                </kt-simple-dropdown>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="form-group kt-form__group">
                <label class="col-form-label">Store:</label>
                <kt-simple-dropdown id="profit_store" formControlName="warehouse" matFormFieldClass="full-width" hintText="Optional"
                  placeholder="Select Store" [optionList]="ngxsService.warehouses$" isDisabledNone="true"
                  searchPlaceholder="Search Store..." propertyName="name" propertyValue="name">
                </kt-simple-dropdown>
              </div>
            </div>
          </div>
          <!-- endregion -->
          <!-- region Second Row -->
          <div class="row">
            <div class="col-lg-12 text-right justify-content-end align-items-center d-flex mt-3">
              <div class="form-group kt-form__group">
                <button class="mr-3 btn_white" mat-raised-button type="button" (click)="reset()" id="profit_reset">Reset</button>
                <button class="sub___btn" mat-raised-button type="submit" id="profit_fetch">Fetch Records</button>
                <!--For PDF-->
                <!-- <kt-pdf [disabled]="disability" [content]="contentData()"></kt-pdf> -->
              </div>
            </div>
          </div>
          <!-- endregion -->
          <!-- region Action Row -->

          <!-- endregion -->
          <div class="row" style="padding-top: 10px;">
            <div class="col-lg-12 text-right">
              <div [ktBusy]="isLoading">
                <ag-grid-angular style="width: 100%; height: 500px; margin-top: 10px;" class="ag-theme-alpine"
                [rowData]="rowData" [columnDefs]="columnDefs" [suppressAggFuncInHeader]="true"
                (firstDataRendered)="onFirstDataRendered($event)" [autoGroupColumnDef]="autoGroupColumnDef"
                [gridOptions]="gridOptions" (gridReady)="onGridReady($event)" [animateRows]="true">
              </ag-grid-angular>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </form>
</kt-portlet>