<div [ktBusy]="isLoading">
    <kt-portlet>
      <kt-portlet-header [sticky]="false" [title]="title" [class]="'card-head-lg'"></kt-portlet-header>
      <!--begin::Form-->
  
      <form [formGroup]="payrollItemForm" (ngSubmit)="onSubmit()" class="kt-form kt-form--label-align-right">
        <div class="kt-portlet__body">
          <div class="kt-form__section kt-form__section--first">
  
            <div class="col-md-12 col-sm-12 col-lg-12">
              <div class="row">
                <div class="col-lg-3 col-sm-3 col-md-3">
                  <div class="form-group kt-form__group">
                    <label class="col-form-label pt-0">Customer Name:</label>
                    <kt-simple-dropdown id="invoice_customer" formControlName="customerName" matFormFieldClass="full-width"
                      (blurEvent)="logValidationErrors(this.payrollItemForm, this.formErrors, this.validationMessages)"
                      propertyName="name" propertyValue="id" [errorMessage]="formErrors.customerName"
                      [optionList]="ngxsService.businessPartners$"
                    
                     
                      searchPlaceholder="Search Customers..."
                      placeholder="Select Customer">
                    </kt-simple-dropdown>
                  </div>
                </div>
  
                <!-- <div class="col-lg-3 col-sm-3 col-md-3">
                  <div class="form-group kt-form__group">
                    <label class="col-form-label pt-0">Invoice Date:</label>
                    <kt-date-input 
                      formControlName="invoiceDate" 
                      placeholder="Invoice Date" matFormFieldClass="full-width"
                      (blurEvent)="logValidationErrors(this.payrollItemForm, formErrors, validationMessages)"
                      [errorMessage]="formErrors.invoiceDate">
                    </kt-date-input>
                  </div>
                </div> -->
  
                <!-- <div class="col-lg-3 col-sm-3 col-md-3">
                  <div class="form-group kt-form__group">
                    <label class="col-form-label pt-0">Campus:</label>
                    <kt-simple-dropdown 
                      id="invoice_campus"
                      placeholder="Select Campus" 
                      propertyValue="id" 
                      propertyName="name"
                      formControlName="campusId" 
                      (blurEvent)="logValidationErrors(payrollItemForm, formErrors, validationMessages)"
                      matFormFieldClass="full-width input_d_1"
                      [errorMessage]="'Campus is Required'" 
                      [optionList]="ngxsService.campuses$">
                    </kt-simple-dropdown>
                  </div>
                </div> -->
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12 text-right justify-content-end align-items-center d-flex mt-5">
              <div class="form-group kt-form__group">
                <button (click)="assignEmployee()" type="button" class="ml-3 btn_white" id="assign_employee" mat-raised-button  matTooltip="Assign Employee">Assign Employee</button>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12 col-sm-12 col-lg-12 my-5">
                <ag-grid-angular 
                  style="width: 100%; height: 440px; margin-top: 10px;"
                  class="ag-theme-alpine"
                  [components]="components"
                  [rowData]="selectedEmployees"
                  [columnDefs]="columnDefs"
                  (rowDoubleClicked)="onRowDoubleClicked($event)"
                  (firstDataRendered)="onFirstDataRendered($event)"
                  [gridOptions]="gridOptions"
                  [frameworkComponents]="frameworkComponents"
                  [defaultColDef]="defaultColDef"
                  [overlayNoRowsTemplate]="overlayNoRowsTemplate"
                  [tooltipShowDelay]="5">
                </ag-grid-angular>
              </div>
            </div>
          </div>
  
        <mat-divider class="mt-10"></mat-divider>
  
        <div class="kt-portlet__foot ">
          <div class="kt-form__actions kt-form__actions">
            <div class="row">
              <div class="col-lg-12 text-right">
                <!-- <button type="reset" class="mr-3 btn_white" mat-raised-button (click)="reset()" id="payroll_item_reset">Reset</button>
                <button class="sub___btn  mr-3" mat-raised-button type="submit" id="payroll_item_save"
                  (click)="logValidationErrors(this.payrollItemForm, this.formErrors, this.validationMessages); isSubmit(0)">Save</button>
                <button class="sub___btn " mat-raised-button type="submit" id="payroll_item_submit"
                  (click)="logValidationErrors(this.payrollItemForm, this.formErrors, this.validationMessages); isSubmit(1)">
                  Submit
                </button> -->
                <button type="reset" class="mr-3 btn_white" mat-raised-button (click)="reset()" id="payroll_item_reset">Reset</button>
                <button class="sub___btn  mr-3" mat-raised-button type="submit" id="payroll_item_save"
                  (click)="logValidationErrors(this.payrollItemForm, this.formErrors, this.validationMessages)">Save</button>
                <button class="sub___btn " mat-raised-button type="submit" id="payroll_item_submit"
                  (click)="logValidationErrors(this.payrollItemForm, this.formErrors, this.validationMessages)">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
      <!--end::Form-->
    </kt-portlet>
  </div>